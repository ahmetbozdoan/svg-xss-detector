SvgXSSDetector=function(t){var e=this,r=function(t){return void 0!==t.size};(function(t){if(r(t)&&"image/svg+xml"!==t.type)return $(e).trigger(SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_CLEAN),!1;!function(t,e){if(r(t)){var S=new FileReader;S.onload=function(){e(S.result)},S.readAsText(t)}else e(t.toString("utf-8"))}(t,function(t){try{if(!t)return $(e).trigger(SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_CLEAN),!1;var r=window.document.createElement("div");r.innerHTML=t;var S=r.firstElementChild,n=Array.from(S.children).map(function(t){return t.attributes});n.push(S.attributes);var E=[];n.map(function(t){for(var e=0;e<t.length;e++)E.push(t[e].name)});var i=!!E.find(function(t){return t.startsWith("on")});0!==S.getElementsByTagName("script").length||i?$(e).trigger(SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_DIRTY):$(e).trigger(SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_CLEAN)}catch(t){$(e).trigger(SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_CLEAN)}})})(t)},SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_CLEAN="event-svg-xss-detector-clean",SvgXSSDetector.EVENT_SVG_XSS_DETECTOR_DIRTY="event-svg-xss-detector-dirty";